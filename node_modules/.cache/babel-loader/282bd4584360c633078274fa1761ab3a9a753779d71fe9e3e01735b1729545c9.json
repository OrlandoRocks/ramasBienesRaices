{"ast":null,"code":"import _objectDestructuringEmpty from \"/Users/it/webstorm_projects/VueProjects/ramasBienesRaices/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport axios from \"axios\";\nimport router from \"@/router/router\";\nimport { resolve } from \"@babel/core/lib/vendor/import-meta-resolve\";\nvar BASE_URL = process.env.VUE_APP_BACKEND_URL;\nvar state = {\n  residentials: [],\n  residential: {\n    id: \"\",\n    name: \"\",\n    address: \"\",\n    user_id: \"\",\n    user_name: \"\",\n    lands: \"\",\n    total_expenses: \"\",\n    cost: \"\"\n  }\n};\nvar getters = {\n  getResidentials: function getResidentials(state) {\n    return state.residentials;\n  },\n  getResidentialById: function getResidentialById(state) {\n    return state.residential;\n  }\n};\nvar actions = {\n  fetchResidentials: function fetchResidentials(_ref) {\n    var commit = _ref.commit;\n    var config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\")\n      }\n    };\n    axios.get(\"\".concat(BASE_URL, \"/residentials\"), config).then(function (response) {\n      var formatedResidentials = response.data.map(function (residential) {\n        return {\n          id: residential.id,\n          name: residential.name,\n          address: residential.address,\n          user_id: residential.user_id,\n          user_name: residential.user_full_name,\n          lands: residential.lands_count,\n          total_expenses: residential.total_expenses,\n          cost: residential.cost\n        };\n      });\n      commit(\"setResidentials\", formatedResidentials);\n    }).catch(function (error) {\n      console.error(error);\n    });\n  },\n  fetchResidentialById: function fetchResidentialById(_ref2, id) {\n    var commit = _ref2.commit;\n    return new Promise(function (resolve, reject) {\n      var config = {\n        headers: {\n          Authorization: localStorage.getItem(\"auth_token\")\n        }\n      };\n      axios.get(\"\".concat(BASE_URL, \"/residentials/\").concat(id), config).then(function (response) {\n        var formatedResidential = {\n          id: response.data.id,\n          name: response.data.name,\n          address: response.data.address,\n          user_id: response.data.user_id,\n          user_name: response.data.user_full_name,\n          lands_count: response.data.lands_count,\n          total_expenses: response.data.total_expenses,\n          cost: response.data.cost\n        };\n        commit(\"setResidential\", formatedResidential);\n        resolve(formatedResidential);\n      }).catch(function (error) {\n        console.error(error);\n        reject(error);\n      });\n    });\n  },\n  // eslint-disable-next-line no-empty-pattern\n  createResidential: function createResidential(_ref3, payload) {\n    _objectDestructuringEmpty(_ref3);\n    var config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\")\n      }\n    };\n    return new Promise(function (resolve, reject) {\n      axios.post(\"\".concat(BASE_URL, \"/residentials\"), payload, config).then(function (response) {\n        state.residentials.push(response.data);\n        router.push(\"/residentials\");\n        resolve(response);\n      }).catch(function (error) {\n        console.error(error);\n        reject(error);\n      });\n    });\n  },\n  updateResidential: function updateResidential(_ref4, payload) {\n    var commit = _ref4.commit;\n    var config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\")\n      }\n    };\n    return new Promise(function (resolve, reject) {\n      axios.put(\"\".concat(BASE_URL, \"/residentials/\").concat(payload.residential.id), payload, config).then(function (response) {\n        commit(\"setResidentialsUpdate\", response.data);\n        router.push(\"/residentials\");\n        resolve(response);\n      }).catch(function (error) {\n        console.error(error);\n        reject(error);\n      });\n    });\n  },\n  deleteResidential: function deleteResidential(_ref5, id) {\n    var commit = _ref5.commit;\n    var config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\")\n      }\n    };\n    return new Promise(function (resolve, reject) {\n      axios.delete(\"\".concat(BASE_URL, \"/residentials/\").concat(id), config).then(function (response) {\n        commit(\"deleteResidential\", id);\n        resolve(response);\n      }).catch(function (error) {\n        console.error(error);\n        reject(error);\n      });\n    });\n  }\n};\nvar mutations = {\n  setResidentials: function setResidentials(state, residentials) {\n    state.residentials = residentials;\n  },\n  setResidential: function setResidential(state, residential) {\n    state.residential = residential;\n  },\n  setResidentialsUpdate: function setResidentialsUpdate(state, residential) {\n    var index = state.residentials.findIndex(function (element) {\n      return element.id === residential.id;\n    });\n    if (index !== -1) {\n      state.residentials.splice(index, 1, residential);\n    }\n  },\n  deleteResidential: function deleteResidential(state, id) {\n    var index = state.residentials.findIndex(function (element) {\n      return element.id === id;\n    });\n    if (index !== -1) {\n      state.residentials.splice(index, 1);\n    }\n  }\n};\nexport default {\n  state: state,\n  getters: getters,\n  actions: actions,\n  mutations: mutations\n};","map":{"version":3,"names":["axios","router","resolve","BASE_URL","process","env","VUE_APP_BACKEND_URL","state","residentials","residential","id","name","address","user_id","user_name","lands","total_expenses","cost","getters","getResidentials","getResidentialById","actions","fetchResidentials","_ref","commit","config","headers","Authorization","localStorage","getItem","get","concat","then","response","formatedResidentials","data","map","user_full_name","lands_count","catch","error","console","fetchResidentialById","_ref2","Promise","reject","formatedResidential","createResidential","_ref3","payload","_objectDestructuringEmpty","post","push","updateResidential","_ref4","put","deleteResidential","_ref5","delete","mutations","setResidentials","setResidential","setResidentialsUpdate","index","findIndex","element","splice"],"sources":["/Users/it/webstorm_projects/VueProjects/ramasBienesRaices/src/store/modules/residential_manager.js"],"sourcesContent":["import axios from \"axios\";\nimport router from \"@/router/router\";\nimport {resolve} from \"@babel/core/lib/vendor/import-meta-resolve\";\n\nconst BASE_URL = process.env.VUE_APP_BACKEND_URL;\n\nconst state = {\n  residentials: [],\n  residential: {\n    id: \"\",\n    name: \"\",\n    address: \"\",\n    user_id: \"\",\n    user_name: \"\",\n    lands: \"\",\n    total_expenses: \"\",\n    cost: \"\",\n  },\n};\n\nconst getters = {\n  getResidentials(state) {\n    return state.residentials;\n  },\n  getResidentialById(state) {\n    return state.residential;\n  },\n};\n\nconst actions = {\n  fetchResidentials({ commit }) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\"),\n      },\n    };\n    axios\n      .get(`${BASE_URL}/residentials`, config)\n      .then((response) => {\n        const formatedResidentials = response.data.map((residential) => {\n          return {\n            id: residential.id,\n            name: residential.name,\n            address: residential.address,\n            user_id: residential.user_id,\n            user_name: residential.user_full_name,\n            lands: residential.lands_count,\n            total_expenses: residential.total_expenses,\n            cost: residential.cost,\n          };\n        });\n        commit(\"setResidentials\", formatedResidentials);\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  },\n  fetchResidentialById({ commit }, id) {\n    return new Promise((resolve, reject) => {\n      const config = {\n        headers: {\n          Authorization: localStorage.getItem(\"auth_token\"),\n        },\n      };\n      axios\n        .get(`${BASE_URL}/residentials/${id}`, config)\n        .then((response) => {\n          const formatedResidential = {\n            id: response.data.id,\n            name: response.data.name,\n            address: response.data.address,\n            user_id: response.data.user_id,\n            user_name: response.data.user_full_name,\n            lands_count: response.data.lands_count,\n            total_expenses: response.data.total_expenses,\n            cost: response.data.cost,\n          };\n          commit(\"setResidential\", formatedResidential);\n          resolve(formatedResidential);\n        })\n        .catch((error) => {\n          console.error(error);\n          reject(error);\n        });\n    });\n  },\n  // eslint-disable-next-line no-empty-pattern\n  createResidential({}, payload) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\"),\n      },\n    };\n    return new Promise((resolve, reject) => {\n      axios\n        .post(`${BASE_URL}/residentials`, payload, config)\n        .then((response) => {\n          state.residentials.push(response.data);\n          router.push(\"/residentials\");\n          resolve(response);\n        })\n        .catch((error) => {\n          console.error(error);\n          reject(error);\n        });\n    });\n  },\n  updateResidential({ commit }, payload) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\"),\n      },\n    };\n    return new Promise((resolve, reject) => {\n      axios\n        .put(\n          `${BASE_URL}/residentials/${payload.residential.id}`,\n          payload,\n          config\n        )\n        .then((response) => {\n          commit(\"setResidentialsUpdate\", response.data);\n          router.push(\"/residentials\");\n          resolve(response);\n        })\n        .catch((error) => {\n          console.error(error);\n          reject(error);\n        });\n    });\n  },\n  deleteResidential({ commit }, id) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\"),\n      },\n    };\n    return new Promise((resolve, reject) => {\n      axios\n        .delete(`${BASE_URL}/residentials/${id}`, config)\n        .then((response) => {\n          commit(\"deleteResidential\", id);\n          resolve(response);\n        })\n        .catch((error) => {\n          console.error(error);\n          reject(error);\n        });\n    });\n  },\n};\n\nconst mutations = {\n  setResidentials(state, residentials) {\n    state.residentials = residentials;\n  },\n  setResidential(state, residential) {\n    state.residential = residential;\n  },\n  setResidentialsUpdate(state, residential) {\n    const index = state.residentials.findIndex(\n      (element) => element.id === residential.id\n    );\n    if (index !== -1) {\n      state.residentials.splice(index, 1, residential);\n    }\n  },\n  deleteResidential(state, id) {\n    const index = state.residentials.findIndex((element) => element.id === id);\n    if (index !== -1) {\n      state.residentials.splice(index, 1);\n    }\n  },\n};\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations,\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}