{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport axios from \"axios\";\nvar BASE_URL = process.env.VUE_APP_BACKEND_URL;\nexport default {\n  namespaced: true,\n  state: {\n    presignedUrl: null,\n    uploadPath: null\n  },\n  mutations: {\n    setPresignedUrl: function setPresignedUrl(state, _ref) {\n      var url = _ref.url,\n        path = _ref.path;\n      state.presignedUrl = url;\n      state.uploadPath = path;\n    }\n  },\n  actions: {\n    getPresignedUrl: function getPresignedUrl(_ref2, fileName) {\n      var commit = _ref2.commit;\n      return new Promise(function (resolve, reject) {\n        var config = {\n          headers: {\n            Authorization: localStorage.getItem(\"auth_token\")\n          }\n        };\n        return axios.post(\"\".concat(BASE_URL, \"/s3_presigned_url\"), {\n          file_name: fileName\n        }, config).then(function (response) {\n          commit(\"setPresignedUrl\", {\n            url: response.data.url,\n            path: response.data.path\n          });\n          resolve(response.data);\n        }).catch(function (error) {\n          console.error(error);\n          reject(error);\n        });\n      });\n    },\n    uploadFileToS3: function uploadFileToS3(_, _ref3) {\n      var url = _ref3.url,\n        file = _ref3.file;\n      console.log(\"uploadFileToS3: \", file);\n      var options = {\n        headers: {\n          \"Content-Type\": file.type\n        }\n      };\n      return axios.put(url, file, options);\n    }\n  }\n};","map":{"version":3,"names":["axios","BASE_URL","process","env","VUE_APP_BACKEND_URL","namespaced","state","presignedUrl","uploadPath","mutations","setPresignedUrl","_ref","url","path","actions","getPresignedUrl","_ref2","fileName","commit","Promise","resolve","reject","config","headers","Authorization","localStorage","getItem","post","concat","file_name","then","response","data","catch","error","console","uploadFileToS3","_","_ref3","file","log","options","type","put"],"sources":["/Users/it/webstorm_projects/VueProjects/ramasBienesRaices/src/store/modules/s3.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = process.env.VUE_APP_BACKEND_URL;\n\nexport default {\n  namespaced: true,\n  state: {\n    presignedUrl: null,\n    uploadPath: null,\n  },\n  mutations: {\n    setPresignedUrl(state, { url, path }) {\n      state.presignedUrl = url;\n      state.uploadPath = path;\n    },\n  },\n  actions: {\n    getPresignedUrl({ commit }, fileName) {\n      return new Promise((resolve, reject) => {\n        const config = {\n          headers: {\n            Authorization: localStorage.getItem(\"auth_token\"),\n          },\n        };\n        return axios\n          .post(\n            `${BASE_URL}/s3_presigned_url`,\n            {\n              file_name: fileName,\n            },\n            config\n          )\n          .then((response) => {\n            commit(\"setPresignedUrl\", {\n              url: response.data.url,\n              path: response.data.path\n            });\n            resolve(response.data);\n          }).catch((error) => {\n            console.error(error);\n            reject(error);\n          });\n      });\n    },\n    uploadFileToS3(_, { url, file }) {\n      console.log(\"uploadFileToS3: \", file);\n      const options = {\n        headers: { \"Content-Type\": file.type },\n      };\n      return axios.put(url, file, options);\n    },\n  },\n};\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,IAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,mBAAmB;AAEhD,eAAe;EACbC,UAAU,EAAE,IAAI;EAChBC,KAAK,EAAE;IACLC,YAAY,EAAE,IAAI;IAClBC,UAAU,EAAE;EACd,CAAC;EACDC,SAAS,EAAE;IACTC,eAAe,WAAAA,gBAACJ,KAAK,EAAAK,IAAA,EAAiB;MAAA,IAAbC,GAAG,GAAAD,IAAA,CAAHC,GAAG;QAAEC,IAAI,GAAAF,IAAA,CAAJE,IAAI;MAChCP,KAAK,CAACC,YAAY,GAAGK,GAAG;MACxBN,KAAK,CAACE,UAAU,GAAGK,IAAI;IACzB;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,eAAe,WAAAA,gBAAAC,KAAA,EAAaC,QAAQ,EAAE;MAAA,IAApBC,MAAM,GAAAF,KAAA,CAANE,MAAM;MACtB,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;QACtC,IAAMC,MAAM,GAAG;UACbC,OAAO,EAAE;YACPC,aAAa,EAAEC,YAAY,CAACC,OAAO,CAAC,YAAY;UAClD;QACF,CAAC;QACD,OAAO1B,KAAK,CACT2B,IAAI,IAAAC,MAAA,CACA3B,QAAQ,wBACX;UACE4B,SAAS,EAAEZ;QACb,CAAC,EACDK,MACF,CAAC,CACAQ,IAAI,CAAC,UAACC,QAAQ,EAAK;UAClBb,MAAM,CAAC,iBAAiB,EAAE;YACxBN,GAAG,EAAEmB,QAAQ,CAACC,IAAI,CAACpB,GAAG;YACtBC,IAAI,EAAEkB,QAAQ,CAACC,IAAI,CAACnB;UACtB,CAAC,CAAC;UACFO,OAAO,CAACW,QAAQ,CAACC,IAAI,CAAC;QACxB,CAAC,CAAC,CAACC,KAAK,CAAC,UAACC,KAAK,EAAK;UAClBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;UACpBb,MAAM,CAACa,KAAK,CAAC;QACf,CAAC,CAAC;MACN,CAAC,CAAC;IACJ,CAAC;IACDE,cAAc,WAAAA,eAACC,CAAC,EAAAC,KAAA,EAAiB;MAAA,IAAb1B,GAAG,GAAA0B,KAAA,CAAH1B,GAAG;QAAE2B,IAAI,GAAAD,KAAA,CAAJC,IAAI;MAC3BJ,OAAO,CAACK,GAAG,CAAC,kBAAkB,EAAED,IAAI,CAAC;MACrC,IAAME,OAAO,GAAG;QACdlB,OAAO,EAAE;UAAE,cAAc,EAAEgB,IAAI,CAACG;QAAK;MACvC,CAAC;MACD,OAAO1C,KAAK,CAAC2C,GAAG,CAAC/B,GAAG,EAAE2B,IAAI,EAAEE,OAAO,CAAC;IACtC;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}