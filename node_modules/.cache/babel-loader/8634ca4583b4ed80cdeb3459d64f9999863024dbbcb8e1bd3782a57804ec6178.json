{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport axios from \"axios\";\nimport router from \"@/router/router\";\nvar BASE_URL = process.env.VUE_APP_BACKEND_URL;\nvar state = {\n  residentials: []\n};\nvar getters = {\n  getResidentials: function getResidentials(state) {\n    return state.residentials;\n  },\n  getResidentialById: function getResidentialById(state) {\n    return function (id) {\n      return state.residentials.find(function (residential) {\n        return residential.id === id;\n      });\n    };\n  }\n};\nvar actions = {\n  fetchResidentials: function fetchResidentials(_ref) {\n    var commit = _ref.commit;\n    var config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\")\n      }\n    };\n    axios.get(\"\".concat(BASE_URL, \"/residentials\"), config).then(function (response) {\n      commit(\"setResidentials\", response);\n    }).catch(function (error) {\n      console.error(error);\n    });\n  },\n  fetchResidentialById: function fetchResidentialById(_ref2, id) {\n    var commit = _ref2.commit;\n    var config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\")\n      }\n    };\n    axios.get(\"\".concat(BASE_URL, \"/residentials/\").concat(id), config).then(function (response) {\n      commit(\"setResidentials\", response.data.data);\n    }).catch(function (error) {\n      console.error(error);\n    });\n  },\n  // eslint-disable-next-line no-empty-pattern\n  createResidential: function createResidential(_ref3, payload) {\n    var commit = _ref3.commit;\n    var config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\")\n      }\n    };\n    return new Promise(function (resolve, reject) {\n      axios.post(\"\".concat(BASE_URL, \"/residentials\"), payload, config).then(function (response) {\n        console.log(response);\n        var formatedResidentials = response.data.map(function (residential) {\n          return {\n            id: residential.id,\n            name: residential.name,\n            address: residential.address,\n            user_id: residential.user_id,\n            user_name: residential.user_full_name,\n            cost: residential.cost\n          };\n        });\n        commit(\"setResidentials\", formatedResidentials);\n        state.residentials.push(response.data);\n        router.push(\"/residentials\");\n        resolve(response);\n      }).catch(function (error) {\n        console.error(error);\n        reject(error);\n      });\n    });\n  },\n  updateResidential: function updateResidential(_ref4, payload) {\n    var commit = _ref4.commit;\n    var config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\")\n      }\n    };\n    return new Promise(function (resolve, reject) {\n      axios.put(\"\".concat(BASE_URL, \"/residentials/\").concat(payload.id), payload, config).then(function (response) {\n        commit(\"setResidentials\", response.data);\n        resolve(response);\n      }).catch(function (error) {\n        console.error(error);\n        reject(error);\n      });\n    });\n  },\n  deleteResidential: function deleteResidential(_ref5, id) {\n    var commit = _ref5.commit;\n    var config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\")\n      }\n    };\n    return new Promise(function (resolve, reject) {\n      axios.delete(\"\".concat(BASE_URL, \"/residentials/\").concat(id), config).then(function (response) {\n        commit(\"setResidentials\", response.data);\n        resolve(response);\n      }).catch(function (error) {\n        console.error(error);\n        reject(error);\n      });\n    });\n  }\n};\nvar mutations = {\n  setResidentials: function setResidentials(state, residentials) {\n    console.log(\"residentials\");\n    console.log(residentials);\n    state.residentials = residentials;\n  }\n};\nexport default {\n  state: state,\n  getters: getters,\n  actions: actions,\n  mutations: mutations\n};","map":{"version":3,"names":["axios","router","BASE_URL","process","env","VUE_APP_BACKEND_URL","state","residentials","getters","getResidentials","getResidentialById","id","find","residential","actions","fetchResidentials","_ref","commit","config","headers","Authorization","localStorage","getItem","get","concat","then","response","catch","error","console","fetchResidentialById","_ref2","data","createResidential","_ref3","payload","Promise","resolve","reject","post","log","formatedResidentials","map","name","address","user_id","user_name","user_full_name","cost","push","updateResidential","_ref4","put","deleteResidential","_ref5","delete","mutations","setResidentials"],"sources":["/Users/it/webstorm_projects/VueProjects/ramas_bienes_raices/src/store/modules/residential_manager.js"],"sourcesContent":["import axios from \"axios\";\nimport router from \"@/router/router\";\n\nconst BASE_URL = process.env.VUE_APP_BACKEND_URL;\n\nconst state = {\n  residentials: [],\n};\n\nconst getters = {\n  getResidentials(state) {\n    return state.residentials;\n  },\n  getResidentialById: (state) => (id) => {\n    return state.residentials.find((residential) => residential.id === id);\n  },\n};\n\nconst actions = {\n  fetchResidentials({ commit }) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\"),\n      },\n    };\n    axios\n      .get(`${BASE_URL}/residentials`, config)\n      .then((response) => {\n        commit(\"setResidentials\", response);\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  },\n  fetchResidentialById({ commit }, id) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\"),\n      },\n    };\n    axios\n      .get(`${BASE_URL}/residentials/${id}`, config)\n      .then((response) => {\n        commit(\"setResidentials\", response.data.data);\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  },\n  // eslint-disable-next-line no-empty-pattern\n  createResidential({ commit }, payload) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\"),\n      },\n    };\n    return new Promise((resolve, reject) => {\n      axios\n        .post(`${BASE_URL}/residentials`, payload, config)\n        .then((response) => {\n          console.log(response);\n          const formatedResidentials = response.data.map((residential) => {\n            return {\n              id: residential.id,\n              name: residential.name,\n              address: residential.address,\n              user_id: residential.user_id,\n              user_name: residential.user_full_name,\n              cost: residential.cost,\n            };\n          });\n          commit(\"setResidentials\", formatedResidentials);\n          state.residentials.push(response.data);\n          router.push(\"/residentials\");\n          resolve(response);\n        })\n        .catch((error) => {\n          console.error(error);\n          reject(error);\n        });\n    });\n  },\n  updateResidential({ commit }, payload) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\"),\n      },\n    };\n    return new Promise((resolve, reject) => {\n      axios\n        .put(`${BASE_URL}/residentials/${payload.id}`, payload, config)\n        .then((response) => {\n          commit(\"setResidentials\", response.data);\n          resolve(response);\n        })\n        .catch((error) => {\n          console.error(error);\n          reject(error);\n        });\n    });\n  },\n  deleteResidential({ commit }, id) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\"),\n      },\n    };\n    return new Promise((resolve, reject) => {\n      axios\n        .delete(`${BASE_URL}/residentials/${id}`, config)\n        .then((response) => {\n          commit(\"setResidentials\", response.data);\n          resolve(response);\n        })\n        .catch((error) => {\n          console.error(error);\n          reject(error);\n        });\n    });\n  },\n};\n\nconst mutations = {\n  setResidentials(state, residentials) {\n    console.log(\"residentials\");\n    console.log(residentials);\n    state.residentials = residentials;\n  },\n};\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations,\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}