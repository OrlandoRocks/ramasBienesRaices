{"ast":null,"code":"import \"/Users/it/webstorm_projects/VueProjects/ramas_bienes_raices/node_modules/core-js/modules/es.array.iterator.js\";\nimport \"/Users/it/webstorm_projects/VueProjects/ramas_bienes_raices/node_modules/core-js/modules/es.promise.js\";\nimport \"/Users/it/webstorm_projects/VueProjects/ramas_bienes_raices/node_modules/core-js/modules/es.object.assign.js\";\nimport \"/Users/it/webstorm_projects/VueProjects/ramas_bienes_raices/node_modules/core-js/modules/es.promise.finally.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport RouterPrefetch from \"vue-router-prefetch\";\nimport DashboardPlugin from \"./plugins/dashboard-plugin\";\nimport App from \"./App.vue\";\nimport router from \"./router/router\";\nimport store from \"./store\";\nimport i18n from \"./i18n\";\nimport \"./registerServiceWorker\";\nVue.config.productionTip = false;\nvar localAuthToken = localStorage.getItem(\"auth_token\");\nconsole.log(router.options.routes);\nif (localAuthToken && localAuthToken !== \"undefined\") {\n  var payload = localAuthToken.split(\".\")[1];\n  var exp = null;\n  if (payload) {\n    try {\n      var decoded = JSON.parse(atob(payload));\n      exp = decoded.exp;\n    } catch (error) {\n      console.error(\"Error decodificando el token:\", error);\n      router.push({\n        name: \"Authentication\",\n        path: \"/login\"\n      });\n    }\n  }\n  if (exp) {\n    var now = Math.floor(Date.now() / 1000);\n    if (now > exp) {\n      console.log(\"El token ha expirado.\");\n      localStorage.removeItem(\"auth_token\");\n      router.push({\n        name: \"Authentication\",\n        path: \"/login\"\n      });\n    } else {\n      console.log(\"El token es v치lido.\");\n      store.dispatch(\"loginUserWithToken\", {\n        auth_token: localAuthToken\n      });\n    }\n  } else {\n    console.log(\"No se pudo obtener la fecha de expiraci칩n del token.\");\n    router.push({\n      name: \"Authentication\",\n      path: \"/login\"\n    });\n  }\n} else {\n  console.log(\"No hay token en localStorage.\");\n  router.push({\n    name: \"Authentication\",\n    path: \"/login\"\n  });\n}\nVue.use(DashboardPlugin);\nVue.use(VueRouter);\nVue.use(RouterPrefetch);\nnew Vue({\n  router: router,\n  store: store,\n  i18n: i18n,\n  render: function render(h) {\n    return h(App);\n  }\n}).$mount(\"#app\");","map":{"version":3,"names":["Vue","VueRouter","RouterPrefetch","DashboardPlugin","App","router","store","i18n","config","productionTip","localAuthToken","localStorage","getItem","console","log","options","routes","payload","split","exp","decoded","JSON","parse","atob","error","push","name","path","now","Math","floor","Date","removeItem","dispatch","auth_token","use","render","h","$mount"],"sources":["/Users/it/webstorm_projects/VueProjects/ramas_bienes_raices/src/main.js"],"sourcesContent":["import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport RouterPrefetch from \"vue-router-prefetch\";\nimport DashboardPlugin from \"./plugins/dashboard-plugin\";\nimport App from \"./App.vue\";\nimport router from \"./router/router\";\nimport store from \"./store\";\nimport i18n from \"./i18n\";\nimport \"./registerServiceWorker\";\n\nVue.config.productionTip = false;\n\nlet localAuthToken = localStorage.getItem(\"auth_token\");\nconsole.log(router.options.routes);\nif (localAuthToken && localAuthToken !== \"undefined\") {\n  const payload = localAuthToken.split(\".\")[1];\n  let exp = null;\n\n  if (payload) {\n    try {\n      const decoded = JSON.parse(atob(payload));\n      exp = decoded.exp;\n    } catch (error) {\n      console.error(\"Error decodificando el token:\", error);\n      router.push({ name: \"Authentication\", path: \"/login\" });\n    }\n  }\n\n  if (exp) {\n    const now = Math.floor(Date.now() / 1000);\n    if (now > exp) {\n      console.log(\"El token ha expirado.\");\n      localStorage.removeItem(\"auth_token\");\n      router.push({ name: \"Authentication\", path: \"/login\" });\n    } else {\n      console.log(\"El token es v치lido.\");\n      store.dispatch(\"loginUserWithToken\", { auth_token: localAuthToken });\n    }\n  } else {\n    console.log(\"No se pudo obtener la fecha de expiraci칩n del token.\");\n    router.push({ name: \"Authentication\", path: \"/login\" });\n  }\n} else {\n  console.log(\"No hay token en localStorage.\");\n  router.push({ name: \"Authentication\", path: \"/login\" });\n}\n\nVue.use(DashboardPlugin);\nVue.use(VueRouter);\nVue.use(RouterPrefetch);\n\nnew Vue({\n  router,\n  store,\n  i18n,\n  render: (h) => h(App),\n}).$mount(\"#app\");\n"],"mappings":";;;;;AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,cAAc,MAAM,qBAAqB;AAChD,OAAOC,eAAe,MAAM,4BAA4B;AACxD,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAOC,MAAM,MAAM,iBAAiB;AACpC,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,IAAI,MAAM,QAAQ;AACzB,OAAO,yBAAyB;AAEhCP,GAAG,CAACQ,MAAM,CAACC,aAAa,GAAG,KAAK;AAEhC,IAAIC,cAAc,GAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;AACvDC,OAAO,CAACC,GAAG,CAACT,MAAM,CAACU,OAAO,CAACC,MAAM,CAAC;AAClC,IAAIN,cAAc,IAAIA,cAAc,KAAK,WAAW,EAAE;EACpD,IAAMO,OAAO,GAAGP,cAAc,CAACQ,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC5C,IAAIC,GAAG,GAAG,IAAI;EAEd,IAAIF,OAAO,EAAE;IACX,IAAI;MACF,IAAMG,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACN,OAAO,CAAC,CAAC;MACzCE,GAAG,GAAGC,OAAO,CAACD,GAAG;IACnB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdX,OAAO,CAACW,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrDnB,MAAM,CAACoB,IAAI,CAAC;QAAEC,IAAI,EAAE,gBAAgB;QAAEC,IAAI,EAAE;MAAS,CAAC,CAAC;IACzD;EACF;EAEA,IAAIR,GAAG,EAAE;IACP,IAAMS,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACH,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;IACzC,IAAIA,GAAG,GAAGT,GAAG,EAAE;MACbN,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;MACpCH,YAAY,CAACqB,UAAU,CAAC,YAAY,CAAC;MACrC3B,MAAM,CAACoB,IAAI,CAAC;QAAEC,IAAI,EAAE,gBAAgB;QAAEC,IAAI,EAAE;MAAS,CAAC,CAAC;IACzD,CAAC,MAAM;MACLd,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;MAClCR,KAAK,CAAC2B,QAAQ,CAAC,oBAAoB,EAAE;QAAEC,UAAU,EAAExB;MAAe,CAAC,CAAC;IACtE;EACF,CAAC,MAAM;IACLG,OAAO,CAACC,GAAG,CAAC,sDAAsD,CAAC;IACnET,MAAM,CAACoB,IAAI,CAAC;MAAEC,IAAI,EAAE,gBAAgB;MAAEC,IAAI,EAAE;IAAS,CAAC,CAAC;EACzD;AACF,CAAC,MAAM;EACLd,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;EAC5CT,MAAM,CAACoB,IAAI,CAAC;IAAEC,IAAI,EAAE,gBAAgB;IAAEC,IAAI,EAAE;EAAS,CAAC,CAAC;AACzD;AAEA3B,GAAG,CAACmC,GAAG,CAAChC,eAAe,CAAC;AACxBH,GAAG,CAACmC,GAAG,CAAClC,SAAS,CAAC;AAClBD,GAAG,CAACmC,GAAG,CAACjC,cAAc,CAAC;AAEvB,IAAIF,GAAG,CAAC;EACNK,MAAM,EAANA,MAAM;EACNC,KAAK,EAALA,KAAK;EACLC,IAAI,EAAJA,IAAI;EACJ6B,MAAM,EAAE,SAAAA,OAACC,CAAC;IAAA,OAAKA,CAAC,CAACjC,GAAG,CAAC;EAAA;AACvB,CAAC,CAAC,CAACkC,MAAM,CAAC,MAAM,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}