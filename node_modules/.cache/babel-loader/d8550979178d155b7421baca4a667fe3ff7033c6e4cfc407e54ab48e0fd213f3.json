{"ast":null,"code":"import { extend } from \"vee-validate\";\nimport { required, email, min } from \"vee-validate/dist/rules\";\nimport \"@/store/index.js\";\nimport { mapActions, mapGetters } from \"vuex\";\nextend(\"email\", email);\nextend(\"min\", min);\nextend(\"required\", required);\nexport default {\n  computed: {\n    ...mapGetters([\"getAuthToken\", \"getUserEmail\", \"getUserID\", \"isLoggedIn\", \"getError\"])\n  },\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      subscribe: true\n    };\n  },\n  methods: {\n    ...mapActions([\"loginUser\"]),\n    onLogin(event) {\n      event.preventDefault();\n      let data = {\n        auth: {\n          email: this.email,\n          password: this.password\n        }\n      };\n      this.loginUser(data).then(() => {\n        this.$notify({\n          type: \"success\",\n          message: `Bienvenido ${this.getUserEmail}...`,\n          icon: \"tim-icons icon-bell-55\"\n        });\n        this.$router.push(\"/dashboard\");\n      }).catch(error => {\n        console.log(\"error\");\n        this.$notify({\n          type: \"danger\",\n          message: `La informacion es incorrecta!`,\n          icon: \"tim-icons icon-bell-55\"\n        });\n        this.resetData();\n        console.log(error);\n      });\n    },\n    resetData() {\n      this.email = \"\";\n      this.password = \"\";\n    }\n  }\n};","map":{"version":3,"names":["extend","required","email","min","mapActions","mapGetters","computed","data","password","subscribe","methods","onLogin","event","preventDefault","auth","loginUser","then","$notify","type","message","getUserEmail","icon","$router","push","catch","error","console","log","resetData"],"sources":["src/pages/Pages/Login.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"col-lg-4 col-md-6 ml-auto mr-auto\">\n      <ValidationObserver v-slot=\"{ handleSubmit }\">\n        <form @submit.prevent=\"handleSubmit(submit)\">\n          <card class=\"card-login card-white\">\n            <template slot=\"header\">\n              <img src=\"img/card-primary.png\" alt=\"\" />\n              <h1 class=\"card-title\">Log in</h1>\n            </template>\n\n            <div>\n              <ValidationProvider\n                name=\"email\"\n                rules=\"required|email\"\n                v-slot=\"{ passed, failed, errors }\"\n              >\n                <base-input\n                  required\n                  v-model=\"email\"\n                  type=\"email\"\n                  placeholder=\"Correo Electrónico\"\n                  addon-left-icon=\"tim-icons icon-email-85\"\n                  :error=\"errors[0]\"\n                  :class=\"[{ 'has-success': passed }, { 'has-danger': failed }]\"\n                >\n                </base-input>\n              </ValidationProvider>\n\n              <ValidationProvider\n                name=\"password\"\n                rules=\"required|min:5\"\n                v-slot=\"{ passed, failed, errors }\"\n              >\n                <base-input\n                  required\n                  v-model=\"password\"\n                  placeholder=\"Contraseña\"\n                  addon-left-icon=\"tim-icons icon-lock-circle\"\n                  type=\"password\"\n                  :error=\"errors[0]\"\n                  :class=\"[{ 'has-success': passed }, { 'has-danger': failed }]\"\n                >\n                </base-input>\n              </ValidationProvider>\n            </div>\n\n            <div slot=\"footer\">\n              <base-button\n                native-type=\"submit\"\n                type=\"primary\"\n                class=\"mb-3\"\n                size=\"lg\"\n                @click=\"onLogin\"\n                block\n              >\n                Aceptar\n              </base-button>\n              <div class=\"pull-left\">\n                <h6>\n                  <router-link class=\"link footer-link\" to=\"/register\">\n                    Crear Cuenta\n                  </router-link>\n                </h6>\n              </div>\n\n              <div class=\"pull-right\">\n                <h6>\n                  <a href=\"#pablo\" class=\"link footer-link\">Necesitas ayuda?</a>\n                </h6>\n              </div>\n            </div>\n          </card>\n        </form>\n      </ValidationObserver>\n    </div>\n  </div>\n</template>\n<script>\nimport { extend } from \"vee-validate\";\nimport { required, email, min } from \"vee-validate/dist/rules\";\nimport \"@/store/index.js\";\nimport { mapActions, mapGetters } from \"vuex\";\n\nextend(\"email\", email);\nextend(\"min\", min);\n\nextend(\"required\", required);\n\nexport default {\n  computed: {\n    ...mapGetters([\n      \"getAuthToken\",\n      \"getUserEmail\",\n      \"getUserID\",\n      \"isLoggedIn\",\n      \"getError\",\n    ]),\n  },\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      subscribe: true,\n    };\n  },\n  methods: {\n    ...mapActions([\"loginUser\"]),\n    onLogin(event) {\n      event.preventDefault();\n      let data = {\n        auth: {\n          email: this.email,\n          password: this.password,\n        },\n      };\n      this.loginUser(data)\n        .then(() => {\n          this.$notify({\n            type: \"success\",\n            message: `Bienvenido ${this.getUserEmail}...`,\n            icon: \"tim-icons icon-bell-55\",\n          });\n          this.$router.push(\"/dashboard\");\n        })\n        .catch((error) => {\n          console.log(\"error\");\n          this.$notify({\n            type: \"danger\",\n            message: `La informacion es incorrecta!`,\n            icon: \"tim-icons icon-bell-55\",\n          });\n          this.resetData();\n          console.log(error);\n        });\n    },\n    resetData() {\n      this.email = \"\";\n      this.password = \"\";\n    },\n  },\n};\n</script>\n<style>\n.navbar-nav .nav-item p {\n  line-height: inherit;\n  margin-left: 5px;\n}\n</style>\n"],"mappings":"AA+EA,SAAAA,MAAA;AACA,SAAAC,QAAA,EAAAC,KAAA,EAAAC,GAAA;AACA;AACA,SAAAC,UAAA,EAAAC,UAAA;AAEAL,MAAA,UAAAE,KAAA;AACAF,MAAA,QAAAG,GAAA;AAEAH,MAAA,aAAAC,QAAA;AAEA;EACAK,QAAA;IACA,GAAAD,UAAA,EACA,gBACA,gBACA,aACA,cACA,WACA;EACA;EACAE,KAAA;IACA;MACAL,KAAA;MACAM,QAAA;MACAC,SAAA;IACA;EACA;EACAC,OAAA;IACA,GAAAN,UAAA;IACAO,QAAAC,KAAA;MACAA,KAAA,CAAAC,cAAA;MACA,IAAAN,IAAA;QACAO,IAAA;UACAZ,KAAA,OAAAA,KAAA;UACAM,QAAA,OAAAA;QACA;MACA;MACA,KAAAO,SAAA,CAAAR,IAAA,EACAS,IAAA;QACA,KAAAC,OAAA;UACAC,IAAA;UACAC,OAAA,qBAAAC,YAAA;UACAC,IAAA;QACA;QACA,KAAAC,OAAA,CAAAC,IAAA;MACA,GACAC,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAC,GAAA;QACA,KAAAV,OAAA;UACAC,IAAA;UACAC,OAAA;UACAE,IAAA;QACA;QACA,KAAAO,SAAA;QACAF,OAAA,CAAAC,GAAA,CAAAF,KAAA;MACA;IACA;IACAG,UAAA;MACA,KAAA1B,KAAA;MACA,KAAAM,QAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}