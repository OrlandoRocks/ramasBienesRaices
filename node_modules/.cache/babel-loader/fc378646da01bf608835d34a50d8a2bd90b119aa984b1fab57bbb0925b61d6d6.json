{"ast":null,"code":"import _objectSpread from \"/Users/it/webstorm_projects/VueProjects/ramasBienesRaices/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _defineProperty from \"/Users/it/webstorm_projects/VueProjects/ramasBienesRaices/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _Option2 from \"element-ui/lib/theme-chalk/option.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Option from \"element-ui/lib/option\";\nimport _Select2 from \"element-ui/lib/theme-chalk/select.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Select from \"element-ui/lib/select\";\nimport \"core-js/modules/es.function.name.js\";\nimport { extend } from \"vee-validate\";\nimport { required, double, regex, confirmed } from \"vee-validate/dist/rules\";\nimport { mapActions, mapGetters } from \"vuex\";\nextend(\"required\", required);\nextend(\"double\", double);\nextend(\"regex\", regex);\nextend(\"confirmed\", confirmed);\nexport default {\n  components: _defineProperty(_defineProperty({}, _Select.name, _Select), _Option.name, _Option),\n  computed: _objectSpread(_objectSpread({}, mapGetters([\"getUsersList\", \"getResidentialById\"])), {}, {\n    usersList: function usersList() {\n      return this.getUsersList;\n    }\n  }),\n  props: {\n    editData: {\n      type: Object,\n      default: function _default() {\n        return null;\n      }\n    }\n  },\n  data: function data() {\n    return {\n      name: \"\",\n      address: \"\",\n      cost: \"\",\n      user_id: \"\",\n      create_edit: \"Crear\"\n    };\n  },\n  methods: _objectSpread(_objectSpread({}, mapActions([\"createResidential\", \"fetchResidentialById\", \"updateResidential\"])), {}, {\n    loadResidentialData: function loadResidentialData(id) {\n      var _this = this;\n      this.fetchResidentialById(id).then(function () {\n        _this.id = residential.id;\n        _this.name = residential.name;\n        _this.address = residential.address;\n        _this.cost = residential.cost;\n        _this.user_id = residential.user_id;\n      }).catch(function (error) {\n        console.log(error);\n      });\n      console.log(\"residential\", residential);\n    },\n    submit: function submit() {\n      var _this2 = this;\n      var data = {\n        residential: {\n          name: this.name,\n          address: this.address,\n          cost: this.cost,\n          user_id: this.user_id\n        }\n      };\n      if (this.editData) {\n        this.updateResidential(data).then(function () {\n          _this2.$notify({\n            title: \"Success\",\n            type: \"success\",\n            message: \"Fraccionamiento actualizado con éxito\",\n            icon: \"tim-icons icon-bell-55\"\n          });\n        }).catch(function (error) {\n          console.log(error);\n          _this2.resetData();\n          _this2.$notify({\n            title: \"Error\",\n            type: \"danger\",\n            message: \"Error al actualizar el fraccionamiento\",\n            icon: \"tim-icons icon-bell-55\"\n          });\n        });\n      } else {\n        this.createResidential(data).then(function () {\n          _this2.$notify({\n            title: \"Success\",\n            type: \"success\",\n            message: \"Fraccionamiento creado con éxito\",\n            icon: \"tim-icons icon-bell-55\"\n          });\n        }).catch(function (error) {\n          console.log(error);\n          _this2.resetData();\n          _this2.$notify({\n            title: \"Error\",\n            type: \"danger\",\n            message: \"Error al crear el fraccionamiento\",\n            icon: \"tim-icons icon-bell-55\"\n          });\n        });\n      }\n    },\n    goToResidentials: function goToResidentials() {\n      this.$router.push({\n        name: \"Residentials\"\n      });\n    },\n    resetData: function resetData() {\n      this.name = \"\";\n      this.address = \"\";\n      this.cost = \"\";\n      this.user_id = \"\";\n    }\n  }),\n  mounted: function mounted() {\n    this.$store.dispatch(\"usersList\");\n    if (this.$route.params.id) {\n      this.loadResidentialData();\n    }\n  },\n  created: function created() {\n    var residentialId = this.$route.params.id;\n    if (residentialId) {\n      this.loadResidentialData(residentialId);\n    }\n    this.create_edit = residentialId ? \"Editar\" : \"Crear\";\n  }\n};","map":{"version":3,"names":["extend","required","double","regex","confirmed","mapActions","mapGetters","components","_defineProperty","_Select","name","_Option","computed","_objectSpread","usersList","getUsersList","props","editData","type","Object","default","_default","data","address","cost","user_id","create_edit","methods","loadResidentialData","id","_this","fetchResidentialById","then","residential","catch","error","console","log","submit","_this2","updateResidential","$notify","title","message","icon","resetData","createResidential","goToResidentials","$router","push","mounted","$store","dispatch","$route","params","created","residentialId"],"sources":["src/pages/Residential/ResidentialForm.vue"],"sourcesContent":["<template>\n  <div class=\"col-md-12\">\n    <ValidationObserver v-slot=\"{ handleSubmit }\">\n      <form class=\"form-horizontal\" @submit.prevent=\"handleSubmit(submit)\">\n        <card>\n          <h4\n            slot=\"header\"\n            class=\"card-title clickable\"\n            @click=\"goToResidentials\"\n          >\n            <i class=\"tim-icons icon-minimal-left\"></i>\n            Fraccionamiento\n          </h4>\n          <div>\n            <div class=\"row\">\n              <label class=\"col-sm-2 col-form-label\">Nombre del Fracc</label>\n              <div class=\"col-sm-7\">\n                <ValidationProvider\n                  name=\"nombre\"\n                  rules=\"required\"\n                  v-slot=\"{ passed, failed, errors }\"\n                >\n                  <base-input\n                    required\n                    v-model=\"name\"\n                    :error=\"errors[0]\"\n                    :class=\"[\n                      { 'has-success': passed },\n                      { 'has-danger': failed },\n                    ]\"\n                  >\n                  </base-input>\n                </ValidationProvider>\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <label class=\"col-sm-2 col-form-label\">Direccion</label>\n              <div class=\"col-sm-7\">\n                <ValidationProvider\n                  name=\"direccion\"\n                  rules=\"required\"\n                  v-slot=\"{ passed, failed, errors }\"\n                >\n                  <base-input\n                    required\n                    v-model=\"address\"\n                    :error=\"errors[0]\"\n                    :class=\"[\n                      { 'has-success': passed },\n                      { 'has-danger': failed },\n                    ]\"\n                  >\n                  </base-input>\n                </ValidationProvider>\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <label class=\"col-sm-2 col-form-label\">Costo/Precio</label>\n              <div class=\"col-sm-7\">\n                <ValidationProvider\n                  name=\"costo\"\n                  rules=\"required|double\"\n                  v-slot=\"{ passed, failed, errors }\"\n                >\n                  <base-input\n                    required\n                    v-model=\"cost\"\n                    :error=\"errors[0]\"\n                    :class=\"[\n                      { 'has-success': passed },\n                      { 'has-danger': failed },\n                    ]\"\n                  >\n                  </base-input>\n                </ValidationProvider>\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <label class=\"col-sm-2 col-form-label\">Responsable</label>\n              <div class=\"col-sm-7\">\n                <ValidationProvider\n                  name=\"responsable\"\n                  rules=\"required\"\n                  v-slot=\"{ errors }\"\n                >\n                  <el-select\n                    class=\"select-primary\"\n                    style=\"width: 100%; margin-bottom: 10px\"\n                    :error=\"errors[0]\"\n                    size=\"large\"\n                    placeholder=\"Seleccionar el responsable\"\n                    v-model=\"user_id\"\n                  >\n                    <el-option\n                      v-for=\"option in usersList\"\n                      class=\"select-primary\"\n                      :value=\"option.id\"\n                      :label=\"`${option.full_name} (${option.email})`\"\n                      :key=\"option.email\"\n                    >\n                    </el-option>\n                  </el-select>\n                  <span class=\"error-message\" v-if=\"errors.length\">{{\n                    errors[0]\n                  }}</span>\n                </ValidationProvider>\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center\">\n            <base-button native-type=\"submit\" type=\"primary\"\n              >{{ create_edit }} Fraccionamiento</base-button\n            >\n          </div>\n        </card>\n      </form>\n    </ValidationObserver>\n  </div>\n</template>\n<script>\nimport { extend } from \"vee-validate\";\nimport { required, double, regex, confirmed } from \"vee-validate/dist/rules\";\nimport { Option, Select } from \"element-ui\";\nimport { mapActions, mapGetters } from \"vuex\";\n\nextend(\"required\", required);\nextend(\"double\", double);\nextend(\"regex\", regex);\nextend(\"confirmed\", confirmed);\n\nexport default {\n  components: {\n    [Select.name]: Select,\n    [Option.name]: Option,\n  },\n  computed: {\n    ...mapGetters([\"getUsersList\", \"getResidentialById\"]),\n    usersList() {\n      return this.getUsersList;\n    },\n  },\n  props: {\n    editData: {\n      type: Object,\n      default: () => null,\n    },\n  },\n  data() {\n    return {\n      name: \"\",\n      address: \"\",\n      cost: \"\",\n      user_id: \"\",\n      create_edit: \"Crear\",\n    };\n  },\n  methods: {\n    ...mapActions([\n      \"createResidential\",\n      \"fetchResidentialById\",\n      \"updateResidential\",\n    ]),\n    loadResidentialData(id) {\n      this.fetchResidentialById(id)\n        .then(() => {\n          this.id = residential.id;\n          this.name = residential.name;\n          this.address = residential.address;\n          this.cost = residential.cost;\n          this.user_id = residential.user_id;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n      console.log(\"residential\", residential);\n    },\n    submit() {\n      let data = {\n        residential: {\n          name: this.name,\n          address: this.address,\n          cost: this.cost,\n          user_id: this.user_id,\n        },\n      };\n      if (this.editData) {\n        this.updateResidential(data)\n          .then(() => {\n            this.$notify({\n              title: \"Success\",\n              type: \"success\",\n              message: \"Fraccionamiento actualizado con éxito\",\n              icon: \"tim-icons icon-bell-55\",\n            });\n          })\n          .catch((error) => {\n            console.log(error);\n            this.resetData();\n            this.$notify({\n              title: \"Error\",\n              type: \"danger\",\n              message: \"Error al actualizar el fraccionamiento\",\n              icon: \"tim-icons icon-bell-55\",\n            });\n          });\n      } else {\n        this.createResidential(data)\n          .then(() => {\n            this.$notify({\n              title: \"Success\",\n              type: \"success\",\n              message: \"Fraccionamiento creado con éxito\",\n              icon: \"tim-icons icon-bell-55\",\n            });\n          })\n          .catch((error) => {\n            console.log(error);\n            this.resetData();\n            this.$notify({\n              title: \"Error\",\n              type: \"danger\",\n              message: \"Error al crear el fraccionamiento\",\n              icon: \"tim-icons icon-bell-55\",\n            });\n          });\n      }\n    },\n    goToResidentials() {\n      this.$router.push({ name: \"Residentials\" });\n    },\n    resetData() {\n      this.name = \"\";\n      this.address = \"\";\n      this.cost = \"\";\n      this.user_id = \"\";\n    },\n  },\n  mounted() {\n    this.$store.dispatch(\"usersList\");\n    if (this.$route.params.id) {\n      this.loadResidentialData();\n    }\n  },\n  created() {\n    const residentialId = this.$route.params.id;\n    if (residentialId) {\n      this.loadResidentialData(residentialId);\n    }\n    this.create_edit = residentialId ? \"Editar\" : \"Crear\";\n  },\n};\n</script>\n<style>\n.error-message {\n  color: red;\n}\n.clickable {\n  cursor: pointer;\n}\n\n.clickable:hover {\n  color: #e14eca !important;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}