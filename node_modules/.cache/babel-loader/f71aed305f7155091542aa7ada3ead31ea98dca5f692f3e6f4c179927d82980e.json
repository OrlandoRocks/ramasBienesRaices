{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url.to-json.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nexport default {\n  name: \"image-upload\",\n  props: {\n    type: {\n      type: String,\n      default: \"\",\n      description: 'Image upload type (\"\"|avatar)'\n    },\n    src: {\n      type: String,\n      default: \"\",\n      description: \"Initial image to display\"\n    },\n    selectText: {\n      type: String,\n      default: \"Select image\"\n    },\n    changeText: {\n      type: String,\n      default: \"Change\"\n    },\n    removeText: {\n      type: String,\n      default: \"Remove\"\n    }\n  },\n  data: function data() {\n    var avatarPlaceholder = \"img/placeholder.jpg\";\n    var imgPlaceholder = \"img/image_placeholder.jpg\";\n    return {\n      placeholder: this.type === \"avatar\" ? avatarPlaceholder : imgPlaceholder,\n      imagePreview: null\n    };\n  },\n  computed: {\n    fileExists: function fileExists() {\n      return this.imagePreview !== null;\n    },\n    image: function image() {\n      return this.imagePreview || this.src || this.placeholder;\n    }\n  },\n  methods: {\n    handlePreview: function handlePreview(event) {\n      var file = event.target.files[0];\n      this.imagePreview = URL.createObjectURL(file);\n      this.$emit(\"change\", file);\n    },\n    removeFile: function removeFile() {\n      this.imagePreview = null;\n      this.$emit(\"change\", null);\n    }\n  }\n};","map":{"version":3,"names":["name","props","type","String","default","description","src","selectText","changeText","removeText","data","avatarPlaceholder","imgPlaceholder","placeholder","imagePreview","computed","fileExists","image","methods","handlePreview","event","file","target","files","URL","createObjectURL","$emit","removeFile"],"sources":["src/components/ImageUpload.vue"],"sourcesContent":["<template>\n  <div class=\"fileinput text-center\">\n    <div\n      class=\"fileinput-new thumbnail\"\n      :class=\"{ 'img-circle': type === 'avatar' }\"\n    >\n      <img :src=\"image\" alt=\"preview\" />\n    </div>\n    <div>\n      <span class=\"btn btn-primary btn-simple btn-file\">\n        <span class=\"fileinput-new\">{{\n          fileExists ? changeText : selectText\n        }}</span>\n        <input type=\"hidden\" value=\"\" name=\"\" />\n        <input\n          accept=\"image/*\"\n          @change=\"handlePreview\"\n          type=\"file\"\n          name=\"...\"\n          class=\"valid\"\n          :multiple=\"false\"\n          aria-invalid=\"false\"\n        />\n      </span>\n      <base-button v-if=\"fileExists\" @click=\"removeFile\" round type=\"danger\">\n        <i class=\"fas fa-times\"></i> {{ removeText }}\n      </base-button>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"image-upload\",\n  props: {\n    type: {\n      type: String,\n      default: \"\",\n      description: 'Image upload type (\"\"|avatar)',\n    },\n    src: {\n      type: String,\n      default: \"\",\n      description: \"Initial image to display\",\n    },\n    selectText: {\n      type: String,\n      default: \"Select image\",\n    },\n    changeText: {\n      type: String,\n      default: \"Change\",\n    },\n    removeText: {\n      type: String,\n      default: \"Remove\",\n    },\n  },\n  data() {\n    let avatarPlaceholder = \"img/placeholder.jpg\";\n    let imgPlaceholder = \"img/image_placeholder.jpg\";\n    return {\n      placeholder: this.type === \"avatar\" ? avatarPlaceholder : imgPlaceholder,\n      imagePreview: null,\n    };\n  },\n  computed: {\n    fileExists() {\n      return this.imagePreview !== null;\n    },\n    image() {\n      return this.imagePreview || this.src || this.placeholder;\n    },\n  },\n  methods: {\n    handlePreview(event) {\n      let file = event.target.files[0];\n      this.imagePreview = URL.createObjectURL(file);\n      this.$emit(\"change\", file);\n    },\n    removeFile() {\n      this.imagePreview = null;\n      this.$emit(\"change\", null);\n    },\n  },\n};\n</script>\n<style></style>\n"],"mappings":";;;;;;AA+BA;EACAA,IAAA;EACAC,KAAA;IACAC,IAAA;MACAA,IAAA,EAAAC,MAAA;MACAC,OAAA;MACAC,WAAA;IACA;IACAC,GAAA;MACAJ,IAAA,EAAAC,MAAA;MACAC,OAAA;MACAC,WAAA;IACA;IACAE,UAAA;MACAL,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAI,UAAA;MACAN,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAK,UAAA;MACAP,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EACAM,IAAA,WAAAA,KAAA;IACA,IAAAC,iBAAA;IACA,IAAAC,cAAA;IACA;MACAC,WAAA,OAAAX,IAAA,gBAAAS,iBAAA,GAAAC,cAAA;MACAE,YAAA;IACA;EACA;EACAC,QAAA;IACAC,UAAA,WAAAA,WAAA;MACA,YAAAF,YAAA;IACA;IACAG,KAAA,WAAAA,MAAA;MACA,YAAAH,YAAA,SAAAR,GAAA,SAAAO,WAAA;IACA;EACA;EACAK,OAAA;IACAC,aAAA,WAAAA,cAAAC,KAAA;MACA,IAAAC,IAAA,GAAAD,KAAA,CAAAE,MAAA,CAAAC,KAAA;MACA,KAAAT,YAAA,GAAAU,GAAA,CAAAC,eAAA,CAAAJ,IAAA;MACA,KAAAK,KAAA,WAAAL,IAAA;IACA;IACAM,UAAA,WAAAA,WAAA;MACA,KAAAb,YAAA;MACA,KAAAY,KAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}