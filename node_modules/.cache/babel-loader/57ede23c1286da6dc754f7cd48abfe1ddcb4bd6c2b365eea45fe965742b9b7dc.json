{"ast":null,"code":"import axios from \"axios\";\nimport router from \"@/router/router\";\nimport { resolve } from \"@babel/core/lib/vendor/import-meta-resolve\";\nconst BASE_URL = process.env.VUE_APP_BACKEND_URL;\nconst state = {\n  residentials: [],\n  residential: {\n    id: \"\",\n    name: \"\",\n    address: \"\",\n    user_id: \"\",\n    user_name: \"\",\n    lands: \"\",\n    total_expenses: \"\",\n    cost: \"\"\n  }\n};\nconst getters = {\n  getResidentials(state) {\n    return state.residentials;\n  },\n  getResidentialById(state) {\n    return state.residential;\n  }\n};\nconst actions = {\n  fetchResidentials({\n    commit\n  }) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\")\n      }\n    };\n    axios.get(`${BASE_URL}/residentials`, config).then(response => {\n      const formatedResidentials = response.data.map(residential => {\n        return {\n          id: residential.id,\n          name: residential.name,\n          address: residential.address,\n          user_id: residential.user_id,\n          user_name: residential.user_full_name,\n          lands: residential.lands_count,\n          total_expenses: residential.total_expenses,\n          cost: residential.cost\n        };\n      });\n      commit(\"setResidentials\", formatedResidentials);\n    }).catch(error => {\n      console.error(error);\n    });\n  },\n  fetchResidentialById({\n    commit\n  }, id) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\")\n      }\n    };\n    axios.get(`${BASE_URL}/residentials/${id}`, config).then(response => {\n      const formatedResidential = {\n        id: response.data.id,\n        name: response.data.name,\n        address: response.data.address,\n        user_id: response.data.user_id,\n        user_name: response.data.user_full_name,\n        lands: response.data.lands_count,\n        total_expenses: response.data.total_expenses,\n        cost: response.data.cost\n      };\n      console.log(formatedResidential);\n      commit(\"setResidential\", formatedResidential);\n    }).catch(error => {\n      console.error(error);\n    });\n  },\n  // eslint-disable-next-line no-empty-pattern\n  createResidential({}, payload) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\")\n      }\n    };\n    return new Promise((resolve, reject) => {\n      axios.post(`${BASE_URL}/residentials`, payload, config).then(response => {\n        state.residentials.push(response.data);\n        router.push(\"/residentials\");\n        resolve(response);\n      }).catch(error => {\n        console.error(error);\n        reject(error);\n      });\n    });\n  },\n  updateResidential({\n    commit\n  }, payload) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\")\n      }\n    };\n    return new Promise((resolve, reject) => {\n      axios.put(`${BASE_URL}/residentials/${payload.id}`, payload, config).then(response => {\n        commit(\"setResidentials\", response.data);\n        resolve(response);\n      }).catch(error => {\n        console.error(error);\n        reject(error);\n      });\n    });\n  },\n  deleteResidential({\n    commit\n  }, id) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\")\n      }\n    };\n    return new Promise((resolve, reject) => {\n      axios.delete(`${BASE_URL}/residentials/${id}`, config).then(response => {\n        commit(\"setResidentials\", response.data);\n        resolve(response);\n      }).catch(error => {\n        console.error(error);\n        reject(error);\n      });\n    });\n  }\n};\nconst mutations = {\n  setResidentials(state, residentials) {\n    state.residentials = residentials;\n  },\n  setResidential(state, residential) {\n    state.residential = residential;\n    console.log(\"residential\");\n    console.log(state.residential);\n  }\n};\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n};","map":{"version":3,"names":["axios","router","resolve","BASE_URL","process","env","VUE_APP_BACKEND_URL","state","residentials","residential","id","name","address","user_id","user_name","lands","total_expenses","cost","getters","getResidentials","getResidentialById","actions","fetchResidentials","commit","config","headers","Authorization","localStorage","getItem","get","then","response","formatedResidentials","data","map","user_full_name","lands_count","catch","error","console","fetchResidentialById","formatedResidential","log","createResidential","payload","Promise","reject","post","push","updateResidential","put","deleteResidential","delete","mutations","setResidentials","setResidential"],"sources":["/Users/it/webstorm_projects/VueProjects/ramasBienesRaices/src/store/modules/residential_manager.js"],"sourcesContent":["import axios from \"axios\";\nimport router from \"@/router/router\";\nimport {resolve} from \"@babel/core/lib/vendor/import-meta-resolve\";\n\nconst BASE_URL = process.env.VUE_APP_BACKEND_URL;\n\nconst state = {\n  residentials: [],\n  residential: {\n    id: \"\",\n    name: \"\",\n    address: \"\",\n    user_id: \"\",\n    user_name: \"\",\n    lands: \"\",\n    total_expenses: \"\",\n    cost: \"\",\n  },\n};\n\nconst getters = {\n  getResidentials(state) {\n    return state.residentials;\n  },\n  getResidentialById(state) {\n    return state.residential;\n  },\n};\n\nconst actions = {\n  fetchResidentials({ commit }) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\"),\n      },\n    };\n    axios\n      .get(`${BASE_URL}/residentials`, config)\n      .then((response) => {\n        const formatedResidentials = response.data.map((residential) => {\n          return {\n            id: residential.id,\n            name: residential.name,\n            address: residential.address,\n            user_id: residential.user_id,\n            user_name: residential.user_full_name,\n            lands: residential.lands_count,\n            total_expenses: residential.total_expenses,\n            cost: residential.cost,\n          };\n        });\n        commit(\"setResidentials\", formatedResidentials);\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  },\n  fetchResidentialById({ commit }, id) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\"),\n      },\n    };\n    axios\n      .get(`${BASE_URL}/residentials/${id}`, config)\n      .then((response) => {\n        const formatedResidential = {\n          id: response.data.id,\n          name: response.data.name,\n          address: response.data.address,\n          user_id: response.data.user_id,\n          user_name: response.data.user_full_name,\n          lands: response.data.lands_count,\n          total_expenses: response.data.total_expenses,\n          cost: response.data.cost,\n        };\n        console.log(formatedResidential);\n        commit(\"setResidential\", formatedResidential);\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  },\n  // eslint-disable-next-line no-empty-pattern\n  createResidential({}, payload) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\"),\n      },\n    };\n    return new Promise((resolve, reject) => {\n      axios\n        .post(`${BASE_URL}/residentials`, payload, config)\n        .then((response) => {\n          state.residentials.push(response.data);\n          router.push(\"/residentials\");\n          resolve(response);\n        })\n        .catch((error) => {\n          console.error(error);\n          reject(error);\n        });\n    });\n  },\n  updateResidential({ commit }, payload) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\"),\n      },\n    };\n    return new Promise((resolve, reject) => {\n      axios\n        .put(`${BASE_URL}/residentials/${payload.id}`, payload, config)\n        .then((response) => {\n          commit(\"setResidentials\", response.data);\n          resolve(response);\n        })\n        .catch((error) => {\n          console.error(error);\n          reject(error);\n        });\n    });\n  },\n  deleteResidential({ commit }, id) {\n    const config = {\n      headers: {\n        Authorization: localStorage.getItem(\"auth_token\"),\n      },\n    };\n    return new Promise((resolve, reject) => {\n      axios\n        .delete(`${BASE_URL}/residentials/${id}`, config)\n        .then((response) => {\n          commit(\"setResidentials\", response.data);\n          resolve(response);\n        })\n        .catch((error) => {\n          console.error(error);\n          reject(error);\n        });\n    });\n  },\n};\n\nconst mutations = {\n  setResidentials(state, residentials) {\n    state.residentials = residentials;\n  },\n  setResidential(state, residential) {\n    state.residential = residential;\n\n    console.log(\"residential\");\n    console.log(state.residential);\n  },\n};\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations,\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}